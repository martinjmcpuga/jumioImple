{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/martin/git/jumioImple/src/app/components/Api/ApiJumioRetrieval.js"],"sourcesContent":["export const ApiJumioRetrieval = async(idJumio) => {\n    const url = process.env.NEXT_PUBLIC_JUMIO_TOKEN;\n    try {\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"idJumio\": idJumio,\n            })\n        })\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        return data;\n    } catch (err) {\n        console.error('Error in JumioTokenGeneration:', err);\n        throw err;\n    }\n}"],"names":[],"mappings":";;;AACgB;AADT,MAAM,oBAAoB,OAAM;IACnC,MAAM,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,uBAAuB;IAC/C,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,KAAK;YAC9B,QAAQ;YACR,SAAS;gBACL,UAAU;gBACV,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB,WAAW;YACf;QACJ;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC5D;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;IACX,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACV;AACJ;KAtBa","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/martin/git/jumioImple/src/app/components/jumio/JumioComponent.jsx"],"sourcesContent":["'use client'\n\nimport React, {  useEffect,useState } from 'react'\nimport { JumioSdkComponent } from \"@jumio/websdk\";\nimport { useRef } from 'react';\nimport { ApiJumioRetrieval } from '../Api/ApiJumioRetrieval';\nimport { useAppContext } from '@/app/context/AppContext';\nimport { useRouter } from 'next/navigation';\n\n\n\nconst JumioComponent = ({token}) => {\n\n    const {IdJumio} = useAppContext()\n    const jumioRef = useRef(null);\n    const router = useRouter();\n    const {tokenJumio} = useAppContext();\n    const [cpv, setCpv] = useState('');\n    const {cpvI} = useAppContext();\n\n    useEffect(()=>{\n     setCpv(localStorage.getItem('sCpv') || cpvI);\n    },[])\n\n  useEffect(() => {\n  //  const template = '<template  id=\"jumio-start-title\">\\n  <pre>You can see now projected content via <i><strong>jumio-start-title</strong></i> template</pre>\\n</template>'\n\n    const handleStatus = async (event) => {\n     // console.log(IdJumio)\n     // console.log('Workflow status:', event.detail);\n      const response = await ApiJumioRetrieval(IdJumio)\n      if(tokenJumio){\n         console.log(response)\n         console.log(response.status)\n  \n        if(response.status === 200){\n            router.push('/bandeja');\n        }else{\n            router.push('/?i='+cpv);\n        }\n        return;\n         \n      }else{\n        router.push('/dataconfirm');\n      }\n     \n      //console.log('Jumio status:', response);\n      \n\n\n    }\n\n    if (jumioRef.current) {\n    //  jumioRef.current.innerHTML= template;\n      jumioRef.current.addEventListener('workflow:success', handleStatus);\n    }\n  }, [jumioRef]);\n\n  return (\n    <div className='h-screen lel'>\n\n        <jumio-sdk dc=\"us\" locale='es' token={token} ref={jumioRef}>\n        </jumio-sdk>\n       \n\n\n    </div>\n  )\n}\n\nexport default JumioComponent\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA;;;AAPA;;;;;;;AAWA,MAAM,iBAAiB,CAAC,EAAC,KAAK,EAAC;;IAE3B,MAAM,EAAC,OAAO,EAAC,GAAG,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD;IAC9B,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACxB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAC,UAAU,EAAC,GAAG,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACT,OAAO,aAAa,OAAO,CAAC,WAAW;QACxC;mCAAE,EAAE;IAEN,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACV,6KAA6K;YAE3K,MAAM;yDAAe,OAAO;oBAC3B,uBAAuB;oBACvB,iDAAiD;oBAChD,MAAM,WAAW,MAAM,CAAA,GAAA,uJAAA,CAAA,oBAAiB,AAAD,EAAE;oBACzC,IAAG,YAAW;wBACX,QAAQ,GAAG,CAAC;wBACZ,QAAQ,GAAG,CAAC,SAAS,MAAM;wBAE5B,IAAG,SAAS,MAAM,KAAK,KAAI;4BACvB,OAAO,IAAI,CAAC;wBAChB,OAAK;4BACD,OAAO,IAAI,CAAC,SAAO;wBACvB;wBACA;oBAEF,OAAK;wBACH,OAAO,IAAI,CAAC;oBACd;gBAEA,yCAAyC;gBAI3C;;YAEA,IAAI,SAAS,OAAO,EAAE;gBACtB,yCAAyC;gBACvC,SAAS,OAAO,CAAC,gBAAgB,CAAC,oBAAoB;YACxD;QACF;mCAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YAAU,IAAG;YAAK,QAAO;YAAK,OAAO;YAAO,KAAK;;;;;;;;;;;AAO1D;GAzDM;;QAEgB,uIAAA,CAAA,gBAAa;QAEhB,qIAAA,CAAA,YAAS;QACH,uIAAA,CAAA,gBAAa;QAEnB,uIAAA,CAAA,gBAAa;;;KAP1B;uCA2DS","debugId":null}}]
}